# GalleryComponent

**GalleryComponent** es un componente web moderno, flexible y de alto rendimiento para la gesti√≥n de galer√≠as multimedia. Est√° dise√±ado desde cero para ser completamente agn√≥stico a la fuente de datos, permitiendo una integraci√≥n sencilla con cualquier tipo de backend o API.

Su arquitectura se basa en una estricta separaci√≥n de responsabilidades: el componente se encarga de la **interfaz de usuario**, mientras que el desarrollador provee la **l√≥gica de negocio** a trav√©s de un adaptador de datos (`dataSource`).

## ‚ú® Caracter√≠sticas Principales

* **Arquitectura Desacoplada:** Conecta f√°cilmente a cualquier API (REST, GraphQL, etc.) o a un simple array de datos local implementando el contrato del `dataSource`.
* **Gesti√≥n de Carpetas (Opcional):** Soporta una estructura de m√∫ltiples carpetas con operaciones CRUD completas, pero puede funcionar en un modo de galer√≠a simple si no se necesita.
* **Operaciones CRUD de √çtems:** Funcionalidad completa para renombrar, borrar, mover y copiar √≠tems, tanto de forma individual como en lote.
* **Selecci√≥n M√∫ltiple y Acciones en Lote:** Una interfaz de usuario intuitiva para seleccionar m√∫ltiples √≠tems y aplicar acciones de forma masiva.
* **Previsualizaci√≥n de Medios:** Modal integrado para previsualizar im√°genes, videos y audios.
* **Extensible a trav√©s de Plugins:** A√±ade funcionalidades complejas como subida de archivos o sistemas de generaci√≥n sin modificar el c√≥digo del n√∫cleo.
* **Seguimiento de Tareas As√≠ncronas:**
    * **Estado `isPending`:** Renderiza autom√°ticamente los √≠tems que est√°n en proceso de creaci√≥n o procesamiento.
    * **API `notify()`:** Permite a sistemas externos (como WebSockets) notificar al componente sobre el progreso de tareas de larga duraci√≥n para actualizar la UI en tiempo real.

## üöÄ Inicio R√°pido (Galer√≠a Visual Simple)

Puedes usar `GalleryComponent` como una simple galer√≠a de solo lectura con un array de datos local.

**1. HTML:**

<div id="my-gallery"></div>
<script type="module" src="main.js"></script>

**2. JavaScript (`main.js`):**

import GalleryComponent from './components/GalleryComponent/GalleryComponent.js';

// Tus datos pueden venir de cualquier lugar
const myImages = [
    { id: 1, name: 'Atardecer en la playa', thumbUrl: '...', mediaUrl: '...', type: 'image' },
    { id: 2, name: 'Monta√±as nevadas', thumbUrl: '...', mediaUrl: '...', type: 'image' }
];

// Inicializa el componente con un dataSource m√≠nimo
new GalleryComponent('#my-gallery', {
    dataSource: {
        // Solo necesitas implementar el m√©todo onLoadItems
        async onLoadItems(folderId) {
            // folderId ser√° null en este modo simple
            return myImages;
        }
    }
});

El componente detectar√° autom√°ticamente que no hay m√©todos `onDeleteItem`, `onRenameItem`, etc., y ocultar√° los botones de acci√≥n, resultando en una galer√≠a de solo visualizaci√≥n.

## üèõÔ∏è Arquitectura

El sistema se compone de tres piezas clave que trabajan en conjunto:

1.  **El N√∫cleo (`GalleryComponent.js`):** Es la "vista". Se encarga de renderizar toda la interfaz (panel de carpetas, cuadr√≠cula, barra de herramientas, modales) y de gestionar el estado visual. Es gen√©rico y no conoce la l√≥gica de negocio.
2.  **El Adaptador de Datos (`dataSource`):** Es el "controlador de datos". Es un objeto que t√∫, como desarrollador, proporcionas al componente. Debe cumplir un "contrato", implementando los m√©todos que el componente necesita para leer y escribir datos (ej. `onLoadItems`, `onDeleteItem`). Act√∫a como el puente entre la UI gen√©rica y tu backend espec√≠fico.
3.  **Los Plugins (`plugins/`):** Son m√≥dulos aislados que a√±aden funcionalidades complejas (ej. `ImportPlugin`, `GenerationPlugin`). Se "enganchan" al ciclo de vida del componente a trav√©s de `hooks` para a√±adir botones y l√≥gica sin alterar el n√∫cleo.